<ng-container *ngIf="isLoaded; else loader">
  <div
    *ngFor="let i of [0, 1, 2, 3, 4]"
    class="min-h-screen grid grid-cols-4 gap-y-8 md:grid-cols-6 grid-flow-row md:gap-y-4 md:gap-x-8"
  >
    <!--For the low hanging effect om md and above-->
    <div
      class="border-red-100 border-2 col-start-2 col-span-2 flex flex-col md:row-start-2 rounded-lg md:row-span-4 text-white"
    >
      <div
        class="flex flex-col gap-2 min-h-fit border-2 text-xl border-white md:text-2xl py-2 mb-2"
      >
        <div class="text-center">{{ data[2 * i]["name"] }}</div>
        <div
          class="flex flex-col text-xs md:flex-row md:text-sm justify-around"
        >
          <div class="flex flex-row items-center">
            <mat-icon class="text-white" fontIcon="thermostat"></mat-icon>
            <div class="ml-2">{{ data[2 * i]["climate"] | titlecase }}</div>
          </div>
          <div class="flex flex-row items-center">
            <div class="flex flex-row items-center">
              <mat-icon class="text-white" fontIcon="groups"></mat-icon>
              <div class="ml-2">{{ data[2 * i]["population"] }}</div>
            </div>
          </div>
        </div>
      </div>
      <div *ngFor="let rs of data[2 * i]['residents']">
        {{ citizens[rs]["name"] }}
      </div>
    </div>
    <!--For normal layouton md and above-->
    <div
      class="border-red-100 border-2 col-span-2 col-start-2 mb-8 flex flex-col md:col-start-4 rounded-lg md:row-span-4 text-white md:mb-0"
    >
      <div
        class="min-h-fit border-2 text-xl border-white md:text-2xl mb-2 py-2"
      >
        <div class="text-center">{{ data[2 * i + 1]["name"] }}</div>
        <div
          class="flex flex-col text-xs md:flex-row md:text-sm justify-around"
        >
          <div class="flex flex-row items-center">
            <mat-icon class="text-white" fontIcon="thermostat"></mat-icon>
            <div class="ml-2">{{ data[2 * i + 1]["climate"] | titlecase }}</div>
          </div>
          <div class="flex flex-row items-center">
            <div class="flex flex-row items-center">
              <mat-icon class="text-white" fontIcon="groups"></mat-icon>
              <div class="ml-2">{{ data[2 * i + 1]["population"] }}</div>
            </div>
          </div>
        </div>
      </div>
      <div *ngFor="let rs of data[2 * i + 1]['residents']">
        {{ citizens[rs]["name"] }}
      </div>
    </div>
  </div>
</ng-container>

<ng-template #loader>
  <div
    *ngFor="let i of [0, 1, 2, 3, 4]"
    class="min-h-screen grid grid-cols-4 gap-y-8 md:grid-cols-6 grid-flow-row md:gap-y-4 md:gap-x-8"
  >
    <!--For the low hanging effect om md and above-->
    <div
      class="border-red-100 border-2 col-start-2 col-span-2 flex flex-col md:row-start-2 rounded-lg md:row-span-4 text-white"
    >
      <div
        class="flex flex-col gap-2 min-h-fit border-2 text-xl border-white md:text-2xl py-2 mb-2"
      >
        <div class="h-12 w-60 animate-pulse bg-slate-200 rounded-lg m-auto">
          <div
            class="flex flex-col text-xs md:flex-row md:text-sm justify-around"
          ></div>
        </div>
      </div>
    </div>
    <!--For normal layouton md and above-->
    <div
      class="border-red-100 border-2 col-span-2 col-start-2 mb-8 flex flex-col md:col-start-4 rounded-lg md:row-span-4 text-white md:mb-0"
    >
      <div
        class="min-h-fit border-2 text-xl border-white md:text-2xl mb-2 py-2"
      >
        <div
          class="h-12 w-60 animate-pulse bg-slate-200 rounded-lg m-auto"
        ></div>
        <div
          class="flex flex-col text-xs md:flex-row md:text-sm justify-around"
        ></div>
      </div>
    </div>
  </div>
</ng-template>
